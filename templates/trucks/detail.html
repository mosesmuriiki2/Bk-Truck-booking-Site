{% extends 'base.html' %}
{% block title %}{{ truck.name }} | BK Roadshow Trucks{% endblock %}
{% block content %}
<div class="row g-4">
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <h1 class="h4 fw-bold">{{ truck.name }}</h1>
        <p class="text-muted">{{ truck.description }}</p>
        {% if truck.image %}
          <img src="{{ truck.image.url }}" alt="{{ truck.name }}" class="img-fluid rounded mt-3" />
        {% elif truck.image_url %}
          <img src="{{ truck.image_url }}" alt="{{ truck.name }}" class="img-fluid rounded mt-3" />
        {% endif %}
        <div class="mt-3 small text-muted">Features: {{ truck.features }}</div>
        <div class="mt-1">Daily price: <span class="fw-semibold">KSH{{ truck.daily_price }}</span></div>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card">
      <div class="card-body">
        <h2 class="h5 fw-semibold mb-3">Book this truck</h2>
        <form method="post" class="row g-3">
          {% csrf_token %}
          <div class="col-12">
            <label class="form-label">Your name*</label>
            <input name="customer_name" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Email*</label>
            <input type="email" name="email" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Phone</label>
            <input name="phone" class="form-control" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Start date*</label>
            <input type="date" name="start_date" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">End date*</label>
            <input type="date" name="end_date" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Route start*</label>
            <input name="route_start" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Route end*</label>
            <input name="route_end" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Purpose</label>
            <input name="purpose" class="form-control" />
          </div>
          <div class="col-12">
            <label class="form-label">Notes</label>
            <textarea name="route_notes" class="form-control" rows="3"></textarea>
          </div>
          <div class="col-12">
            <label class="form-label">Extras</label>
            <div>
              {% for e in extras %}
              <div class="form-check">
                <input class="form-check-input" type="checkbox" name="extras" value="{{ e.id }}" id="extra{{ e.id }}">
                <label class="form-check-label" for="extra{{ e.id }}">{{ e.name }} â€” KSH{{ e.price_per_day }}/day</label>
              </div>
              {% empty %}
              <p class="text-muted small mb-0">No extras available right now.</p>
              {% endfor %}
            </div>
          </div>
          <div class="col-12">
            <button class="btn btn-primary w-100">Reserve</button>
          </div>
        </form>
        <p class="small text-muted mt-2">Admin will approve your reservation before it is confirmed.</p>
      </div>
    </div>
  </div>
</div>
{% endblock %}