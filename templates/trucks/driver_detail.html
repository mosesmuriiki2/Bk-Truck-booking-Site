{% extends 'base.html' %}
{% block title %}Driver {{ driver.name }} | BK Roadshow Trucks{% endblock %}
{% block content %}
<div class="row g-4">
  <div class="col-md-4">
    <div class="card h-100">
      {% if driver.profile_picture %}
        <img src="{{ driver.profile_picture.url }}" class="card-img-top" alt="{{ driver.name }}" />
      {% endif %}
      <div class="card-body">
        <h1 class="h5 fw-bold">{{ driver.name }}</h1>
        <div class="small text-muted">{{ driver.location }} • {{ driver.age }} yrs</div>
        {% if driver.email %}
          <div class="mt-2"><span class="small text-muted">Email:</span> {{ driver.email }}</div>
        {% endif %}
        {% if driver.salary %}
          <div class="mt-1"><span class="small text-muted">Salary:</span> ${{ driver.salary }}</div>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <h2 class="h6 fw-semibold mb-3">Biography</h2>
        <p class="small">{{ driver.bio|default:"No bio available." }}</p>
        <h3 class="h6 fw-semibold mt-4 mb-2">Assigned trucks</h3>
        <ul class="list-group list-group-flush">
          {% for t in driver.truck_set.all %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <span class="fw-semibold">{{ t.name }}</span>
                <span class="small text-muted">— ${{ t.daily_price }}/day</span>
              </div>
              <a href="{% url 'trucks:detail' t.pk %}" class="btn btn-outline-primary btn-sm">View</a>
            </li>
          {% empty %}
            <li class="list-group-item"><span class="text-muted small">No trucks assigned.</span></li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</div>
{% endblock %}